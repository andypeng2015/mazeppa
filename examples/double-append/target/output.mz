main(xs, ys, zs) := f0(xs, ys, zs);

f0(xs, ys, zs) := match xs {
    Cons(x0, x1) -> Cons(x0, f0(x1, ys, zs)),
    Nil() -> f1(ys, zs)
};

f1(ys, zs) := match ys {
    Cons(x0, x1) -> Cons(x0, f1(x1, zs)),
    Nil() -> zs
};
