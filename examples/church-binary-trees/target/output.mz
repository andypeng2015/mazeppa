main(t) := f0(t);

f0(t) := match t {
    Leaf(x0) -> 0u64,
    Node(x0, x1) ->
    let x2 := f1(x0);
    let x3 := f1(x1);
    +(match >(x2, x3) {
        F() -> x3,
        T() -> x2
    }, 1u64)
};

f1(x0) := f0(x0);
